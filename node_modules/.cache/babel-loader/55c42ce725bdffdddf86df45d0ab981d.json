{"ast":null,"code":"/*!\n * @license\n * chartjs-chart-financial\n * http://chartjs.org/\n * Version: 0.1.0\n *\n * Copyright 2019 Chart.js Contributors\n * Released under the MIT license\n * https://github.com/chartjs/chartjs-chart-financial/blob/master/LICENSE.md\n */\n\n/* eslint no-undef: \"off\"*/\n\n/* eslint no-unused-expressions: \"off\"*/\n\n/* eslint no-restricted-globals: \"off\"*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('chart.js')) : typeof define === 'function' && define.amd ? define(['chart.js'], factory) : (global = global || self, factory(global.Chart));\n})(this, function (Chart) {\n  'use strict';\n\n  Chart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n  var helpers = Chart.helpers;\n  var defaultConfig = {\n    position: 'left',\n    ticks: {\n      callback: Chart.Ticks.formatters.linear\n    }\n  };\n  var FinancialLinearScale = Chart.scaleService.getScaleConstructor('linear').extend({\n    _parseValue: function (value) {\n      var start, end, min, max;\n\n      if (typeof value.c !== 'undefined') {\n        start = +this.getRightValue(value.l);\n        end = +this.getRightValue(value.h);\n        min = Math.min(start, end);\n        max = Math.max(start, end);\n      } else {\n        value = +this.getRightValue(value.y);\n        start = undefined;\n        end = value;\n        min = value;\n        max = value;\n      }\n\n      return {\n        min: min,\n        max: max,\n        start: start,\n        end: end\n      };\n    },\n    determineDataLimits: function () {\n      var me = this;\n      var chart = me.chart;\n      var data = chart.data;\n      var datasets = data.datasets;\n      var isHorizontal = me.isHorizontal();\n\n      function IDMatches(meta) {\n        return isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n      } // First Calculate the range\n\n\n      me.min = null;\n      me.max = null;\n      helpers.each(datasets, function (dataset, datasetIndex) {\n        var meta = chart.getDatasetMeta(datasetIndex);\n\n        if (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n          helpers.each(dataset.data, function (rawValue, index) {\n            var value = me._parseValue(rawValue);\n\n            if (isNaN(value.min) || isNaN(value.max) || meta.data[index].hidden) {\n              return;\n            }\n\n            if (me.min === null || value.min < me.min) {\n              me.min = value.min;\n            }\n\n            if (me.max === null || me.max < value.max) {\n              me.max = value.max;\n            }\n          });\n        }\n      }); // Add whitespace around bars. Axis shouldn't go exactly from min to max\n\n      var space = (me.max - me.min) * 0.05;\n      me.min -= space;\n      me.max += space; // Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\n      this.handleTickRangeOptions();\n    }\n  });\n  Chart.scaleService.registerScaleType('financialLinear', FinancialLinearScale, defaultConfig);\n  var helpers$1 = Chart.helpers;\n  Chart.defaults.financial = {\n    label: '',\n    hover: {\n      mode: 'label'\n    },\n    scales: {\n      xAxes: [{\n        type: 'time',\n        distribution: 'series',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        offset: true,\n        ticks: {\n          source: 'data'\n        }\n      }],\n      yAxes: [{\n        type: 'financialLinear'\n      }]\n    },\n    tooltips: {\n      intersect: false,\n      mode: 'index',\n      callbacks: {\n        label: function (tooltipItem, data) {\n          var dataset = data.datasets[tooltipItem.datasetIndex];\n          var point = dataset.data[tooltipItem.index];\n\n          if (!helpers$1.isNullOrUndef(point.y)) {\n            return Chart.defaults.global.tooltips.callbacks.label(tooltipItem, data);\n          }\n\n          var o = point.o;\n          var h = point.h;\n          var l = point.l;\n          var c = point.c;\n          return 'O: ' + o + '  H: ' + h + '  L: ' + l + '  C: ' + c;\n        }\n      }\n    }\n  };\n  /**\n   * This class is based off controller.bar.js from the upstream Chart.js library\n   */\n\n  var FinancialController = Chart.controllers.bar.extend({\n    dataElementType: Chart.elements.Financial,\n\n    /**\n     * @private\n     */\n    _updateElementGeometry: function (element, index, reset) {\n      var me = this;\n      var model = element._model;\n\n      var vscale = me._getValueScale();\n\n      var base = vscale.getBasePixel();\n      var horizontal = vscale.isHorizontal();\n      var ruler = me._ruler || me.getRuler();\n      var vpixels = me.calculateBarValuePixels(me.index, index);\n      var ipixels = me.calculateBarIndexPixels(me.index, index, ruler);\n      var chart = me.chart;\n      var datasets = chart.data.datasets;\n      var indexData = datasets[me.index].data[index];\n      model.horizontal = horizontal;\n      model.base = reset ? base : vpixels.base;\n      model.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\n      model.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\n      model.height = horizontal ? ipixels.size : undefined;\n      model.width = horizontal ? undefined : ipixels.size;\n      model.candleOpen = vscale.getPixelForValue(Number(indexData.o));\n      model.candleHigh = vscale.getPixelForValue(Number(indexData.h));\n      model.candleLow = vscale.getPixelForValue(Number(indexData.l));\n      model.candleClose = vscale.getPixelForValue(Number(indexData.c));\n    },\n    draw: function () {\n      var ctx = this.chart.chart.ctx;\n      var elements = this.getMeta().data;\n      var dataset = this.getDataset();\n      var ilen = elements.length;\n      var i = 0;\n      var d;\n      Chart.canvasHelpers.clipArea(ctx, this.chart.chartArea);\n\n      for (; i < ilen; ++i) {\n        d = dataset.data[i].o;\n\n        if (d !== null && d !== undefined && !isNaN(d)) {\n          elements[i].draw();\n        }\n      }\n\n      Chart.canvasHelpers.unclipArea(ctx);\n    }\n  });\n  var helpers$2 = Chart.helpers;\n  var globalOpts = Chart.defaults.global;\n  globalOpts.elements.financial = {\n    color: {\n      up: 'rgba(80, 160, 115, 1)',\n      down: 'rgba(215, 85, 65, 1)',\n      unchanged: 'rgba(90, 90, 90, 1)'\n    }\n  };\n\n  function isVertical(bar) {\n    return bar._view.width !== undefined;\n  }\n  /**\n   * Helper function to get the bounds of the candle\n   * @private\n   * @param bar {Chart.Element.financial} the bar\n   * @return {Bounds} bounds of the bar\n   */\n\n\n  function getBarBounds(candle) {\n    var vm = candle._view;\n    var x1, x2, y1, y2;\n    var halfWidth = vm.width / 2;\n    x1 = vm.x - halfWidth;\n    x2 = vm.x + halfWidth;\n    y1 = vm.candleHigh;\n    y2 = vm.candleLow;\n    return {\n      left: x1,\n      top: y1,\n      right: x2,\n      bottom: y2\n    };\n  }\n\n  var FinancialElement = Chart.Element.extend({\n    height: function () {\n      var vm = this._view;\n      return vm.base - vm.y;\n    },\n    inRange: function (mouseX, mouseY) {\n      var inRange = false;\n\n      if (this._view) {\n        var bounds = getBarBounds(this);\n        inRange = mouseX >= bounds.left && mouseX <= bounds.right && mouseY >= bounds.top && mouseY <= bounds.bottom;\n      }\n\n      return inRange;\n    },\n    inLabelRange: function (mouseX, mouseY) {\n      var me = this;\n\n      if (!me._view) {\n        return false;\n      }\n\n      var inRange = false;\n      var bounds = getBarBounds(me);\n\n      if (isVertical(me)) {\n        inRange = mouseX >= bounds.left && mouseX <= bounds.right;\n      } else {\n        inRange = mouseY >= bounds.top && mouseY <= bounds.bottom;\n      }\n\n      return inRange;\n    },\n    inXRange: function (mouseX) {\n      var bounds = getBarBounds(this);\n      return mouseX >= bounds.left && mouseX <= bounds.right;\n    },\n    inYRange: function (mouseY) {\n      var bounds = getBarBounds(this);\n      return mouseY >= bounds.top && mouseY <= bounds.bottom;\n    },\n    getCenterPoint: function () {\n      var vm = this._view;\n      return {\n        x: vm.x,\n        y: (vm.candleHigh + vm.candleLow) / 2\n      };\n    },\n    getArea: function () {\n      var vm = this._view;\n      return vm.width * Math.abs(vm.y - vm.base);\n    },\n    tooltipPosition: function () {\n      var vm = this._view;\n      return {\n        x: vm.x,\n        y: (vm.candleOpen + vm.candleClose) / 2\n      };\n    },\n    hasValue: function () {\n      var model = this._model;\n      return helpers$2.isNumber(model.x) && helpers$2.isNumber(model.candleOpen) && helpers$2.isNumber(model.candleHigh) && helpers$2.isNumber(model.candleLow) && helpers$2.isNumber(model.candleClose);\n    }\n  });\n  var helpers$3 = Chart.helpers;\n  var globalOpts$1 = Chart.defaults.global;\n  globalOpts$1.elements.candlestick = helpers$3.merge({}, [globalOpts$1.elements.financial, {\n    borderColor: globalOpts$1.elements.financial.color.unchanged,\n    borderWidth: 1\n  }]);\n  var CandlestickElement = FinancialElement.extend({\n    draw: function () {\n      var ctx = this._chart.ctx;\n      var vm = this._view;\n      var x = vm.x;\n      var o = vm.candleOpen;\n      var h = vm.candleHigh;\n      var l = vm.candleLow;\n      var c = vm.candleClose;\n      var borderColors = vm.borderColor;\n\n      if (typeof borderColors === 'string') {\n        borderColors = {\n          up: borderColors,\n          down: borderColors,\n          unchanged: borderColors\n        };\n      }\n\n      var borderColor;\n\n      if (c < o) {\n        borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.up : undefined, globalOpts$1.elements.candlestick.borderColor);\n        ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.up : undefined, globalOpts$1.elements.candlestick.color.up);\n      } else if (c > o) {\n        borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.down : undefined, globalOpts$1.elements.candlestick.borderColor);\n        ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.down : undefined, globalOpts$1.elements.candlestick.color.down);\n      } else {\n        borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.unchanged : undefined, globalOpts$1.elements.candlestick.borderColor);\n        ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.unchanged : undefined, globalOpts$1.elements.candlestick.color.unchanged);\n      }\n\n      ctx.lineWidth = helpers$3.getValueOrDefault(vm.borderWidth, globalOpts$1.elements.candlestick.borderWidth);\n      ctx.strokeStyle = helpers$3.getValueOrDefault(borderColor, globalOpts$1.elements.candlestick.borderColor);\n      ctx.beginPath();\n      ctx.moveTo(x, h);\n      ctx.lineTo(x, Math.min(o, c));\n      ctx.moveTo(x, l);\n      ctx.lineTo(x, Math.max(o, c));\n      ctx.stroke();\n      ctx.fillRect(x - vm.width / 2, c, vm.width, o - c);\n      ctx.strokeRect(x - vm.width / 2, c, vm.width, o - c);\n      ctx.closePath();\n    }\n  });\n  Chart.defaults.candlestick = Chart.helpers.merge({}, Chart.defaults.financial);\n  var CandlestickController = Chart.controllers.candlestick = FinancialController.extend({\n    dataElementType: CandlestickElement,\n    updateElement: function (element, index, reset) {\n      var me = this;\n      var meta = me.getMeta();\n      var dataset = me.getDataset();\n      element._xScale = me.getScaleForId(meta.xAxisID);\n      element._yScale = me.getScaleForId(meta.yAxisID);\n      element._datasetIndex = me.index;\n      element._index = index;\n      element._model = {\n        datasetLabel: dataset.label || '',\n        // label: '', // to get label value please use dataset.data[index].label\n        // Appearance\n        color: dataset.color,\n        borderColor: dataset.borderColor,\n        borderWidth: dataset.borderWidth\n      };\n\n      me._updateElementGeometry(element, index, reset);\n\n      element.pivot();\n    }\n  });\n  var helpers$4 = Chart.helpers;\n  var globalOpts$2 = Chart.defaults.global;\n  globalOpts$2.elements.ohlc = helpers$4.merge({}, [globalOpts$2.elements.financial, {\n    lineWidth: 2,\n    armLength: null,\n    armLengthRatio: 0.8\n  }]);\n  var OhlcElement = FinancialElement.extend({\n    draw: function () {\n      var ctx = this._chart.ctx;\n      var vm = this._view;\n      var x = vm.x;\n      var o = vm.candleOpen;\n      var h = vm.candleHigh;\n      var l = vm.candleLow;\n      var c = vm.candleClose;\n      var armLength = helpers$4.getValueOrDefault(vm.armLength, globalOpts$2.elements.ohlc.armLength);\n      var armLengthRatio = helpers$4.getValueOrDefault(vm.armLengthRatio, globalOpts$2.elements.ohlc.armLengthRatio);\n\n      if (armLength === null) {\n        // The width of an ohlc is affected by barPercentage and categoryPercentage\n        // This behavior is caused by extending controller.financial, which extends controller.bar\n        // barPercentage and categoryPercentage are now set to 1.0 (see controller.ohlc)\n        // and armLengthRatio is multipled by 0.5,\n        // so that when armLengthRatio=1.0, the arms from neighbour ohcl touch,\n        // and when armLengthRatio=0.0, ohcl are just vertical lines.\n        armLength = vm.width * armLengthRatio * 0.5;\n      }\n\n      if (c < o) {\n        ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.up : undefined, globalOpts$2.elements.ohlc.color.up);\n      } else if (c > o) {\n        ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.down : undefined, globalOpts$2.elements.ohlc.color.down);\n      } else {\n        ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.unchanged : undefined, globalOpts$2.elements.ohlc.color.unchanged);\n      }\n\n      ctx.lineWidth = helpers$4.getValueOrDefault(vm.lineWidth, globalOpts$2.elements.ohlc.lineWidth);\n      ctx.beginPath();\n      ctx.moveTo(x, h);\n      ctx.lineTo(x, l);\n      ctx.moveTo(x - armLength, o);\n      ctx.lineTo(x, o);\n      ctx.moveTo(x + armLength, c);\n      ctx.lineTo(x, c);\n      ctx.stroke();\n    }\n  });\n  Chart.defaults.ohlc = Chart.helpers.merge({}, Chart.defaults.financial);\n  Chart.defaults.ohlc.scales.xAxes[0].barPercentage = 1.0;\n  Chart.defaults.ohlc.scales.xAxes[0].categoryPercentage = 1.0;\n  var OhlcController = Chart.controllers.ohlc = FinancialController.extend({\n    dataElementType: OhlcElement,\n    updateElement: function (element, index, reset) {\n      var me = this;\n      var meta = me.getMeta();\n      var dataset = me.getDataset();\n      element._xScale = me.getScaleForId(meta.xAxisID);\n      element._yScale = me.getScaleForId(meta.yAxisID);\n      element._datasetIndex = me.index;\n      element._index = index;\n      element._model = {\n        datasetLabel: dataset.label || '',\n        lineWidth: dataset.lineWidth,\n        armLength: dataset.armLength,\n        armLengthRatio: dataset.armLengthRatio,\n        color: dataset.color\n      };\n\n      me._updateElementGeometry(element, index, reset);\n\n      element.pivot();\n    }\n  });\n});","map":{"version":3,"sources":["D:\\dolar_react-master\\dolar_react-master2\\src\\utils\\FinantialChart.js"],"names":["global","factory","exports","module","require","define","amd","self","Chart","hasOwnProperty","helpers","defaultConfig","position","ticks","callback","Ticks","formatters","linear","FinancialLinearScale","scaleService","getScaleConstructor","extend","_parseValue","value","start","end","min","max","c","getRightValue","l","h","Math","y","undefined","determineDataLimits","me","chart","data","datasets","isHorizontal","IDMatches","meta","xAxisID","id","yAxisID","each","dataset","datasetIndex","getDatasetMeta","isDatasetVisible","rawValue","index","isNaN","hidden","space","handleTickRangeOptions","registerScaleType","helpers$1","defaults","financial","label","hover","mode","scales","xAxes","type","distribution","categoryPercentage","barPercentage","offset","source","yAxes","tooltips","intersect","callbacks","tooltipItem","point","isNullOrUndef","o","FinancialController","controllers","bar","dataElementType","elements","Financial","_updateElementGeometry","element","reset","model","_model","vscale","_getValueScale","base","getBasePixel","horizontal","ruler","_ruler","getRuler","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","indexData","x","head","center","height","size","width","candleOpen","getPixelForValue","Number","candleHigh","candleLow","candleClose","draw","ctx","getMeta","getDataset","ilen","length","i","d","canvasHelpers","clipArea","chartArea","unclipArea","helpers$2","globalOpts","color","up","down","unchanged","isVertical","_view","getBarBounds","candle","vm","x1","x2","y1","y2","halfWidth","left","top","right","bottom","FinancialElement","Element","inRange","mouseX","mouseY","bounds","inLabelRange","inXRange","inYRange","getCenterPoint","getArea","abs","tooltipPosition","hasValue","isNumber","helpers$3","globalOpts$1","candlestick","merge","borderColor","borderWidth","CandlestickElement","_chart","borderColors","getValueOrDefault","fillStyle","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","fillRect","strokeRect","closePath","CandlestickController","updateElement","_xScale","getScaleForId","_yScale","_datasetIndex","_index","datasetLabel","pivot","helpers$4","globalOpts$2","ohlc","armLength","armLengthRatio","OhlcElement","OhlcController"],"mappings":"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","sourcesContent":["/*!\n * @license\n * chartjs-chart-financial\n * http://chartjs.org/\n * Version: 0.1.0\n *\n * Copyright 2019 Chart.js Contributors\n * Released under the MIT license\n * https://github.com/chartjs/chartjs-chart-financial/blob/master/LICENSE.md\n */\n/* eslint no-undef: \"off\"*/\n/* eslint no-unused-expressions: \"off\"*/\n/* eslint no-restricted-globals: \"off\"*/\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('chart.js')) : typeof define === 'function' && define.amd ? define(['chart.js'], factory) : (global = global || self, factory(global.Chart));\n}(this, function(Chart) {\n    'use strict';\n\n    Chart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n\n    var helpers = Chart.helpers;\n\n    var defaultConfig = {\n        position: 'left',\n        ticks: {\n            callback: Chart.Ticks.formatters.linear\n        }\n    };\n\n    var FinancialLinearScale = Chart.scaleService.getScaleConstructor('linear').extend({\n\n        _parseValue: function(value) {\n            var start, end, min, max;\n\n            if (typeof value.c !== 'undefined') {\n                start = +this.getRightValue(value.l);\n                end = +this.getRightValue(value.h);\n                min = Math.min(start, end);\n                max = Math.max(start, end);\n            } else {\n                value = +this.getRightValue(value.y);\n                start = undefined;\n                end = value;\n                min = value;\n                max = value;\n            }\n\n            return {\n                min: min,\n                max: max,\n                start: start,\n                end: end\n            };\n        },\n\n        determineDataLimits: function() {\n            var me = this;\n            var chart = me.chart;\n            var data = chart.data;\n            var datasets = data.datasets;\n            var isHorizontal = me.isHorizontal();\n\n            function IDMatches(meta) {\n                return isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n            }\n\n            // First Calculate the range\n            me.min = null;\n            me.max = null;\n\n            helpers.each(datasets, function(dataset, datasetIndex) {\n                var meta = chart.getDatasetMeta(datasetIndex);\n                if (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n                    helpers.each(dataset.data, function(rawValue, index) {\n                        var value = me._parseValue(rawValue);\n\n                        if (isNaN(value.min) || isNaN(value.max) || meta.data[index].hidden) {\n                            return;\n                        }\n\n                        if (me.min === null || value.min < me.min) {\n                            me.min = value.min;\n                        }\n\n                        if (me.max === null || me.max < value.max) {\n                            me.max = value.max;\n                        }\n                    });\n                }\n            });\n\n            // Add whitespace around bars. Axis shouldn't go exactly from min to max\n            var space = (me.max - me.min) * 0.05;\n            me.min -= space;\n            me.max += space;\n\n            // Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n            this.handleTickRangeOptions();\n        }\n    });\n\n    Chart.scaleService.registerScaleType('financialLinear', FinancialLinearScale, defaultConfig);\n\n    var helpers$1 = Chart.helpers;\n\n    Chart.defaults.financial = {\n        label: '',\n\n        hover: {\n            mode: 'label'\n        },\n\n        scales: {\n            xAxes: [{\n                type: 'time',\n                distribution: 'series',\n                categoryPercentage: 0.8,\n                barPercentage: 0.9,\n                offset: true,\n                ticks: {\n                    source: 'data'\n                }\n            }],\n            yAxes: [{\n                type: 'financialLinear'\n            }]\n        },\n\n        tooltips: {\n            intersect: false,\n            mode: 'index',\n            callbacks: {\n                label: function(tooltipItem, data) {\n                    var dataset = data.datasets[tooltipItem.datasetIndex];\n                    var point = dataset.data[tooltipItem.index];\n\n                    if (!helpers$1.isNullOrUndef(point.y)) {\n                        return Chart.defaults.global.tooltips.callbacks.label(tooltipItem, data);\n                    }\n\n                    var o = point.o;\n                    var h = point.h;\n                    var l = point.l;\n                    var c = point.c;\n\n                    return 'O: ' + o + '  H: ' + h + '  L: ' + l + '  C: ' + c;\n                }\n            }\n        }\n    };\n\n    /**\n     * This class is based off controller.bar.js from the upstream Chart.js library\n     */\n    var FinancialController = Chart.controllers.bar.extend({\n\n        dataElementType: Chart.elements.Financial,\n\n        /**\n         * @private\n         */\n        _updateElementGeometry: function(element, index, reset) {\n            var me = this;\n            var model = element._model;\n            var vscale = me._getValueScale();\n            var base = vscale.getBasePixel();\n            var horizontal = vscale.isHorizontal();\n            var ruler = me._ruler || me.getRuler();\n            var vpixels = me.calculateBarValuePixels(me.index, index);\n            var ipixels = me.calculateBarIndexPixels(me.index, index, ruler);\n            var chart = me.chart;\n            var datasets = chart.data.datasets;\n            var indexData = datasets[me.index].data[index];\n\n            model.horizontal = horizontal;\n            model.base = reset ? base : vpixels.base;\n            model.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\n            model.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\n            model.height = horizontal ? ipixels.size : undefined;\n            model.width = horizontal ? undefined : ipixels.size;\n            model.candleOpen = vscale.getPixelForValue(Number(indexData.o));\n            model.candleHigh = vscale.getPixelForValue(Number(indexData.h));\n            model.candleLow = vscale.getPixelForValue(Number(indexData.l));\n            model.candleClose = vscale.getPixelForValue(Number(indexData.c));\n        },\n\n        draw: function() {\n            var ctx = this.chart.chart.ctx;\n            var elements = this.getMeta().data;\n            var dataset = this.getDataset();\n            var ilen = elements.length;\n            var i = 0;\n            var d;\n\n            Chart.canvasHelpers.clipArea(ctx, this.chart.chartArea);\n\n            for (; i < ilen; ++i) {\n                d = dataset.data[i].o;\n                if (d !== null && d !== undefined && !isNaN(d)) {\n                    elements[i].draw();\n                }\n            }\n\n            Chart.canvasHelpers.unclipArea(ctx);\n        },\n    });\n\n    var helpers$2 = Chart.helpers;\n    var globalOpts = Chart.defaults.global;\n\n    globalOpts.elements.financial = {\n        color: {\n            up: 'rgba(80, 160, 115, 1)',\n            down: 'rgba(215, 85, 65, 1)',\n            unchanged: 'rgba(90, 90, 90, 1)',\n        }\n    };\n\n    function isVertical(bar) {\n        return bar._view.width !== undefined;\n    }\n\n    /**\n     * Helper function to get the bounds of the candle\n     * @private\n     * @param bar {Chart.Element.financial} the bar\n     * @return {Bounds} bounds of the bar\n     */\n    function getBarBounds(candle) {\n        var vm = candle._view;\n        var x1, x2, y1, y2;\n\n        var halfWidth = vm.width / 2;\n        x1 = vm.x - halfWidth;\n        x2 = vm.x + halfWidth;\n        y1 = vm.candleHigh;\n        y2 = vm.candleLow;\n\n        return {\n            left: x1,\n            top: y1,\n            right: x2,\n            bottom: y2\n        };\n    }\n\n    var FinancialElement = Chart.Element.extend({\n\n        height: function() {\n            var vm = this._view;\n            return vm.base - vm.y;\n        },\n        inRange: function(mouseX, mouseY) {\n            var inRange = false;\n\n            if (this._view) {\n                var bounds = getBarBounds(this);\n                inRange = mouseX >= bounds.left && mouseX <= bounds.right && mouseY >= bounds.top && mouseY <= bounds.bottom;\n            }\n\n            return inRange;\n        },\n        inLabelRange: function(mouseX, mouseY) {\n            var me = this;\n            if (!me._view) {\n                return false;\n            }\n\n            var inRange = false;\n            var bounds = getBarBounds(me);\n\n            if (isVertical(me)) {\n                inRange = mouseX >= bounds.left && mouseX <= bounds.right;\n            } else {\n                inRange = mouseY >= bounds.top && mouseY <= bounds.bottom;\n            }\n\n            return inRange;\n        },\n        inXRange: function(mouseX) {\n            var bounds = getBarBounds(this);\n            return mouseX >= bounds.left && mouseX <= bounds.right;\n        },\n        inYRange: function(mouseY) {\n            var bounds = getBarBounds(this);\n            return mouseY >= bounds.top && mouseY <= bounds.bottom;\n        },\n        getCenterPoint: function() {\n            var vm = this._view;\n            return {\n                x: vm.x,\n                y: (vm.candleHigh + vm.candleLow) / 2\n            };\n        },\n        getArea: function() {\n            var vm = this._view;\n            return vm.width * Math.abs(vm.y - vm.base);\n        },\n        tooltipPosition: function() {\n            var vm = this._view;\n            return {\n                x: vm.x,\n                y: (vm.candleOpen + vm.candleClose) / 2\n            };\n        },\n        hasValue: function() {\n            var model = this._model;\n            return helpers$2.isNumber(model.x) && helpers$2.isNumber(model.candleOpen) && helpers$2.isNumber(model.candleHigh) && helpers$2.isNumber(model.candleLow) && helpers$2.isNumber(model.candleClose);\n        }\n    });\n\n    var helpers$3 = Chart.helpers;\n    var globalOpts$1 = Chart.defaults.global;\n\n    globalOpts$1.elements.candlestick = helpers$3.merge({}, [globalOpts$1.elements.financial, {\n        borderColor: globalOpts$1.elements.financial.color.unchanged,\n        borderWidth: 1,\n    }]);\n\n    var CandlestickElement = FinancialElement.extend({\n        draw: function() {\n            var ctx = this._chart.ctx;\n            var vm = this._view;\n\n            var x = vm.x;\n            var o = vm.candleOpen;\n            var h = vm.candleHigh;\n            var l = vm.candleLow;\n            var c = vm.candleClose;\n\n            var borderColors = vm.borderColor;\n            if (typeof borderColors === 'string') {\n                borderColors = {\n                    up: borderColors,\n                    down: borderColors,\n                    unchanged: borderColors\n                };\n            }\n\n            var borderColor;\n            if (c < o) {\n                borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.up : undefined, globalOpts$1.elements.candlestick.borderColor);\n                ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.up : undefined, globalOpts$1.elements.candlestick.color.up);\n            } else if (c > o) {\n                borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.down : undefined, globalOpts$1.elements.candlestick.borderColor);\n                ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.down : undefined, globalOpts$1.elements.candlestick.color.down);\n            } else {\n                borderColor = helpers$3.getValueOrDefault(borderColors ? borderColors.unchanged : undefined, globalOpts$1.elements.candlestick.borderColor);\n                ctx.fillStyle = helpers$3.getValueOrDefault(vm.color ? vm.color.unchanged : undefined, globalOpts$1.elements.candlestick.color.unchanged);\n            }\n\n            ctx.lineWidth = helpers$3.getValueOrDefault(vm.borderWidth, globalOpts$1.elements.candlestick.borderWidth);\n            ctx.strokeStyle = helpers$3.getValueOrDefault(borderColor, globalOpts$1.elements.candlestick.borderColor);\n\n            ctx.beginPath();\n            ctx.moveTo(x, h);\n            ctx.lineTo(x, Math.min(o, c));\n            ctx.moveTo(x, l);\n            ctx.lineTo(x, Math.max(o, c));\n            ctx.stroke();\n            ctx.fillRect(x - vm.width / 2, c, vm.width, o - c);\n            ctx.strokeRect(x - vm.width / 2, c, vm.width, o - c);\n            ctx.closePath();\n        },\n    });\n\n    Chart.defaults.candlestick = Chart.helpers.merge({}, Chart.defaults.financial);\n\n    var CandlestickController = Chart.controllers.candlestick = FinancialController.extend({\n        dataElementType: CandlestickElement,\n\n        updateElement: function(element, index, reset) {\n            var me = this;\n            var meta = me.getMeta();\n            var dataset = me.getDataset();\n\n            element._xScale = me.getScaleForId(meta.xAxisID);\n            element._yScale = me.getScaleForId(meta.yAxisID);\n            element._datasetIndex = me.index;\n            element._index = index;\n\n            element._model = {\n                datasetLabel: dataset.label || '',\n                // label: '', // to get label value please use dataset.data[index].label\n\n                // Appearance\n                color: dataset.color,\n                borderColor: dataset.borderColor,\n                borderWidth: dataset.borderWidth,\n            };\n\n            me._updateElementGeometry(element, index, reset);\n\n            element.pivot();\n        },\n\n    });\n\n    var helpers$4 = Chart.helpers;\n    var globalOpts$2 = Chart.defaults.global;\n\n    globalOpts$2.elements.ohlc = helpers$4.merge({}, [globalOpts$2.elements.financial, {\n        lineWidth: 2,\n        armLength: null,\n        armLengthRatio: 0.8,\n    }]);\n\n    var OhlcElement = FinancialElement.extend({\n        draw: function() {\n            var ctx = this._chart.ctx;\n            var vm = this._view;\n\n            var x = vm.x;\n            var o = vm.candleOpen;\n            var h = vm.candleHigh;\n            var l = vm.candleLow;\n            var c = vm.candleClose;\n            var armLength = helpers$4.getValueOrDefault(vm.armLength, globalOpts$2.elements.ohlc.armLength);\n            var armLengthRatio = helpers$4.getValueOrDefault(vm.armLengthRatio, globalOpts$2.elements.ohlc.armLengthRatio);\n            if (armLength === null) {\n                // The width of an ohlc is affected by barPercentage and categoryPercentage\n                // This behavior is caused by extending controller.financial, which extends controller.bar\n                // barPercentage and categoryPercentage are now set to 1.0 (see controller.ohlc)\n                // and armLengthRatio is multipled by 0.5,\n                // so that when armLengthRatio=1.0, the arms from neighbour ohcl touch,\n                // and when armLengthRatio=0.0, ohcl are just vertical lines.\n                armLength = vm.width * armLengthRatio * 0.5;\n            }\n\n            if (c < o) {\n                ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.up : undefined, globalOpts$2.elements.ohlc.color.up);\n            } else if (c > o) {\n                ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.down : undefined, globalOpts$2.elements.ohlc.color.down);\n            } else {\n                ctx.strokeStyle = helpers$4.getValueOrDefault(vm.color ? vm.color.unchanged : undefined, globalOpts$2.elements.ohlc.color.unchanged);\n            }\n            ctx.lineWidth = helpers$4.getValueOrDefault(vm.lineWidth, globalOpts$2.elements.ohlc.lineWidth);\n\n            ctx.beginPath();\n            ctx.moveTo(x, h);\n            ctx.lineTo(x, l);\n            ctx.moveTo(x - armLength, o);\n            ctx.lineTo(x, o);\n            ctx.moveTo(x + armLength, c);\n            ctx.lineTo(x, c);\n            ctx.stroke();\n        },\n    });\n\n    Chart.defaults.ohlc = Chart.helpers.merge({}, Chart.defaults.financial);\n    Chart.defaults.ohlc.scales.xAxes[0].barPercentage = 1.0;\n    Chart.defaults.ohlc.scales.xAxes[0].categoryPercentage = 1.0;\n\n    var OhlcController = Chart.controllers.ohlc = FinancialController.extend({\n\n        dataElementType: OhlcElement,\n\n        updateElement: function(element, index, reset) {\n            var me = this;\n            var meta = me.getMeta();\n            var dataset = me.getDataset();\n            element._xScale = me.getScaleForId(meta.xAxisID);\n            element._yScale = me.getScaleForId(meta.yAxisID);\n            element._datasetIndex = me.index;\n            element._index = index;\n            element._model = {\n                datasetLabel: dataset.label || '',\n                lineWidth: dataset.lineWidth,\n                armLength: dataset.armLength,\n                armLengthRatio: dataset.armLengthRatio,\n                color: dataset.color,\n            };\n            me._updateElementGeometry(element, index, reset);\n            element.pivot();\n        },\n\n    });\n\n}));"]},"metadata":{},"sourceType":"module"}